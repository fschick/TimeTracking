<!-- Filter -->
<ts-filter filterId="filterMasterDataCustomers"
           [filters]="filters"
           (filterChanged)="filterChanged.next($event)">
</ts-filter>

<hr>

<div class="d-flex justify-content-between align-items-start mb-2">
  <h4 i18n="@@Page.MasterData.Customers.Title">
    [i18n] Customers
  </h4>
  <button type="button" class="btn btn-sm btn-primary" [routerLink]="guidService.guidEmpty">
    <ng-container i18n="@@Page.MasterData.Customers.New">[i18n] New customer</ng-container>
  </button>
</div>

<ts-simple-table
  *ngIf="rows"
  [columns]="columns"
  [rows]="rows"
  [configuration]="configuration">
</ts-simple-table>

<ng-template #dataCellTemplate let-row="row" let-column="column" let-table="table">
  <span [ngClass]="{'text-secondary text-decoration-line-through': row.hidden}">
    {{table.getCellValue(row, column)}}
  </span>
</ng-template>

<ng-template #actionCellTemplate let-row="row">
  <a class="text-secondary me-2"
     title="[i18n] Edit Customer"
     i18n-title="@@Page.MasterData.Customers.Edit"
     [routerLink]="row.id">
    <svg class="bi action-icon" fill="currentColor">
      <use xlink:href="assets/icons.svg#pencil"/>
    </svg>
  </a>
  <ts-simple-confirm
    title="[i18n] Delete customer"
    i18n-title="@@Page.MasterData.Customers.Delete"
    message="[i18n] Are you sure you want to delete this customer?. This cannot be undone."
    i18n-message="@@Page.MasterData.Customers.DeleteMessage"
    actionText="[i18n] Delete customer"
    i18n-actionText="@@Page.MasterData.Customers.Delete"
    color="danger"
    (confirmed)="deleteItem(row.id)">
    <a class="text-danger">
      <svg class="bi action-icon" fill="currentColor">
        <use xlink:href="assets/icons.svg#eraser"/>
      </svg>
    </a>
  </ts-simple-confirm>
</ng-template>

<router-outlet></router-outlet>
